(function(n){typeof exports=="object"&&typeof module=="object"?n(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex")):typeof define=="function"&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],n):n(CodeMirror)})(function(n){"use strict";n.defineMode("htmlembedded",function(t,i){var r=i.closeComment||"--%>";return n.multiplexingMode(n.getMode(t,"htmlmixed"),{open:i.openComment||"<%--",close:r,delimStyle:"comment",mode:{token:function(n){return n.skipTo(r)||n.skipToEnd(),"comment"}}},{open:i.open||i.scriptStartRegex||"<%",close:i.close||i.scriptEndRegex||"%>",mode:n.getMode(t,i.scriptingModeSpec)})},"htmlmixed");n.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"});n.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"});n.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"});n.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})});