layui.use(["form","layer","table","laytpl"],function(){var u=layui.form,r=parent.layer===undefined?layui.layer:top.layer,t=layui.jquery,f=layui.laytpl,i=layui.table,n=top.initFilter(window);i.render({elem:"#table",method:"post",url:"/Pay/ProductCategory/GetPageData/",height:"full-"+n.top,cellMinWidth:90,toolbar:"#toolbar",defaultToolbar:["filter","exports","print"],cols:[[{type:"numbers"},{type:"radio"},{field:"productCategoryId",title:"分类ID",hide:!0},{field:"name",title:"分类名称"},{field:"code",title:"分类编码"},{field:"description",title:"描述"},{field:"productCount",title:"商品数量",width:100},{field:"createAt",title:"创建时间",width:160},{field:"updateAt",title:"更新时间",width:160}]],page:{limit:n.limit?n.limit:10,limits:[10,15,20,25],curr:n.page?n.page:1},where:{name:n.name},done:function(n,i){t("#page").val(i);t("#limit").val(this.limit);top.changeUrlParam(window)}});i.on("toolbar(table)",function(n){var t=i.checkStatus(n.config.id),u,f;switch(n.event){case"add":r.open({type:2,title:"添加商品分类",content:"/Pay/ProductCategory/Add?iframeName="+window.name,skin:"layui-layer-lan",area:["500px","350px"],offset:"auto",shade:.3});break;case"edit":if(t.data.length!==1){r.msg("请先选择有且仅有一个商品分类");return}u=t.data[0].name;f=t.data[0].productCategoryId;r.open({type:2,title:"编辑商品分类 "+u,content:"/Pay/ProductCategory/Edit?iframeName="+window.name+"&id="+f,skin:"layui-layer-lan",area:["500px","350px"],offset:"auto",shade:.3})}});t("#search").on("click",function(){var n=t("#name").val();return i.reload("table",{page:{curr:1},where:{name:n}}),!0})});