layui.use(["form","layer","table","laytpl"],function(){function u(){i.showLoading();n.post("/Pay/Chart/PaymentCountAnalysis",{paymentAnalysisType:n("#paymentAnalysisType").val(),chartDateType:n("#chartDateType").val(),email:n("#email").val(),paymentProvider:t.value("paymentProviderSel","val"),serviceType:t.value("serviceTypeSel","val"),currencyType:n("#currencyTypeSel").val(),platformType:t.value("platformTypeSel","val"),paymentStatus:t.value("paymentStatusSel","val")},function(t){if(!t.success){f.alert("操作失败:"+t.msg,{title:"错误",icon:5});return}let u=t.data;var o=n.extend({},r,{title:{text:u.title},legend:{data:n.map(u.series,function(n){return n.name})},xAxis:{data:u.xAxisData},series:u.series});i.hideLoading();e(i,o)})}function e(n,t){n.setOption(t,!0)}var o=layui.form,f=parent.layer===undefined?layui.layer:top.layer,n=layui.jquery,s=layui.laytpl,h=layui.table,t=layui.formSelects,i,r;top.initFilter(window,t);i=echarts.init(document.getElementById("paymentChart"),"shine");r={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{color:"#999"}}},toolbox:{feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},legend:{data:[]},xAxis:[{type:"category",data:[],axisPointer:{type:"shadow"}}],yAxis:[{type:"value",name:"数量",min:0}],series:[]};u();n("#search").on("click",function(){n("#paymentChart>div").length>1&&n("#paymentChart>div").eq(2).css("display","none");u();top.changeUrlParam(window)})});