layui.use(["layer","jquery","form"],function(){var t=layui.form,i=parent.layer===undefined?layui.layer:top.layer,n=layui.jquery;t.verify({oldPassword:function(t){var i=n('input[name="newPassword"]').val();if(t===i)return"新旧密码不能一致"},password:function(n){if(n.length>0&&!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&]{8,16}$/.test(n))return"密码必须8到16位,最少8个字符至少1个大写字母，1个小写字母，1个数字和1个特殊字符"},newPassword:function(t){var i=n('input[name="oldPassword"]').val();if(t===i)return"新旧密码不能一致"},confirmPassword:function(t){var i=n('input[name="newPassword"]').val();if(t!==i)return"请保持与新密码填写一致"}});t.on("submit(form)",function(t){return n.post("/Account/ChangePassword",t.field,function(t){return t.success?(i.msg("操作成功"),n("#close").click(),!1):(i.alert("操作失败:"+t.msg,{title:"错误",icon:5}),!1)}),!1});n("#close").click(function(){var n=parent.layer.getFrameIndex(window.name);parent.layer.close(n)})});