"use strict";layui.use(["layer","jquery"],function(){const n=layui.jquery;var t=parent.layer===undefined?layui.layer:top.layer;n&&(n.imsPost=function(i,r,u,f,e){var o=t.load({time:e===undefined?3e3:e});n.ajax({type:"post",timeout:e===undefined?3e3:e,data:r,contentType:"application/x-www-form-urlencoded",dataType:"json",url:i,beforeSend:function(){f&&n(f).attr("disabled","disabled")},success:function(n){if(!n.success){t.alert("操作失败:"+n.msg,{title:"错误",icon:5});return}u(n.data)},complete:function(){f&&n(f).removeAttr("disabled");t.close(o)},error:function(n,i,r){t.alert("操作失败:"+r,{title:"错误",icon:5})}})});window.addMyTab=function(t,i,r="",u=""){let f='<a topMenuName="'+r+'" leftMenuName="'+u+'" data-url="'+t+'"><i class="seraph icon-look" data-icon="icon-look"><\/i><cite>'+i+"<\/cite><\/a>";window.parent.addTab(n(f))};window.getUrlParam=function(n,t){var f=n.split("?"),e,r,i,u;if(f.length<2)return"";for(e=f[1],r=e.split("&"),i=0;i<r.length;i++)if(u=r[i].split("="),u[0]==t)return u[1];return""};window.getAllUrlParam=function(){var t={},r=window.location.href.split("?"),u,n,i;if(r.length<2)return t;u=r[1];n=u.split("&");for(i in n)t[n[i].split("=")[0]]=decodeURIComponent(n[i].split("=")[1]).replace(/\+/g," ");return t};window.initFilter=function(t,i){var o={},h=t.location.search.substring(1),u=h.split("&"),f,r,e,s;for(u.forEach(function(n,t){n==""&&u.splice(t,1)}),f=0;f<u.length;f++){if(r=u[f].split("="),r[1]=decodeURIComponent(r[1]).replace(/\+/g," "),e=n(t.document).find("#"+r[0]),n(e).length>0)switch(n(e)[0].type){case"select-multiple":i.value(r[0],r[1].split(","));break;default:n(e).val(r[1])}o[r[0]]=r[1]}return t.layui.form.render(),s=n(t.document).find("#table"),n(s).length>0&&(o.top=n(s)[0].offsetTop+10),o};window.changeUrlParam=function(t){var i=window.location.href,e=i.indexOf("?permissioncode="),l="",u,o,s,c,r;e>-1?(u=i.substring(e+1),o=u.indexOf("&"),l=o>-1?u.substring(0,o)+"&":u+"&",i=i.substring(0,e)):(s=i.indexOf("?"),s>-1&&(i=i.substring(0,s)));window.location.href=i+"?"+l+decodeURIComponent(n(t.document).find("form").serialize());var a="",f=JSON.parse(window.sessionStorage.getItem("menu")),h=window.parent.tab.getLayIndex(t.name);h!=-1&&(f&&(c=window.location.href.split("#"),c.length>1&&(r=c[1].split("/"),r.forEach(function(n,t){n==""&&r.splice(t,1)}),r.length>0&&(f[h].href="/"+r.slice(1).join("/"),a=f[h]))),window.sessionStorage.setItem("curmenu",JSON.stringify(a)),window.sessionStorage.setItem("menu",JSON.stringify(f)))};window.refreshParent=function(){if(window.sessionStorage.getItem("curmenu")){var n=JSON.parse(window.sessionStorage.getItem("curmenu"));window.frames[n.name].location.href=n.href}}});