layui.use(["layer","jquery","form","table"],function(){var u=layui.form,t=parent.layer===undefined?layui.layer:top.layer,n=layui.jquery,i=layui.table,r=n("#id").val();i.render({id:"table",elem:"#table",method:"post",height:400,url:"/Admin/Manager/GetRoleData?userId="+r,page:!1,cellMinWidth:90,cols:[[{type:"numbers"},{type:"checkbox"},{field:"id",title:"角色ID"},{field:"name",title:"角色名"},{field:"remark",title:"备注"}]]});n("#submit").click(function(){var e=i.checkStatus("table"),u,f;for(console.log(e.data),u=[],f=0;f<e.data.length;f++)u.push(e.data[f].id);return u.length===0?(t.alert("必须至少选择一个角色",{icon:5,title:"错误"}),!1):(n.post("/Admin/Manager/SetRoleList",{id:r,roleIdList:u},function(i){return i.success?(t.msg("操作成功"),n("#close").click(),!1):(t.alert("操作失败:"+i.msg,{title:"错误",icon:5}),!1)}),!1)});n("#close").click(function(){var n=parent.layer.getFrameIndex(window.name);parent.layer.close(n)})});